set header_cache = "~/.cache/neomutt"

# Personal configuration
source ~/.neomutt/local.rc

# Mail directories
set folder = "~/.mail"
source ~/.neomutt/mailboxes
set spoolfile = "+main/INBOX"
set record = "+main/Sent"
set postponed = "+main/Drafts"
set trash = "+main/Trash"

# Sending
set sendmail = "/usr/bin/msmtp"
set use_from = yes
set use_envelope_from = yes
set reverse_name = yes
set edit_headers = yes
set send_charset = "us-ascii:utf-8"
set date_format = "%a, %-d %b %Y %T %z"

# PGP
source ~/.neomutt/gpg.rc
set crypt_autosign = yes

# Contacts
set query_command = "khard email --parsable --search-in-source-files '%s'"
bind editor <Tab> complete-query
bind editor ^T complete
macro index,pager A \
    "<pipe-message>khard add-email<return>" \
    "add the sender email address to khard"
#set reverse_alias = yes

# UI
set sort = threads
set sort_aux = reverse-last-date
set strict_threads = yes
set pager_index_lines = 8
set mailcap_path = ~/.neomutt/mailcap
auto_view text/html
alternative_order text/plain text/html
set print = yes
set print_command = "$PAGER"
set print_split = yes
set sidebar_visible = yes
set sidebar_format = "%B%?F? [%F]?%* %?N?%N/?%S"
set mail_check_stats = yes
bind index,pager \CP sidebar-prev
bind index,pager \CN sidebar-next
bind index,pager \CO sidebar-open
bind index,pager B sidebar-toggle-visible
bind pager j next-line
bind pager k previous-line
bind attach,index,pager \Cd next-page
bind attach,index,pager \Cu previous-page
bind pager g top
bind pager G bottom
bind attach,index g first-entry
bind attach,index G last-entry
bind pager a group-reply

# History
set history = 256
set save_history = 256

# Colours
source ~/.neomutt/colors.linux
