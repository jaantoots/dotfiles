#!/bin/bash
# Download a PDF from a url and view it in zathura.

set -eu
trap "cleanup" INT TERM ERR

if [ "$#" -ne 1 ]; then
  echo "usage: $0 url"
  exit 1
fi

cleanup() {
  rm -f "$TMPFILE"
}

DIR="$HOME/Downloads/pdfs"
mkdir -p "$DIR"
TMPFILE=$(mktemp --tmpdir="$DIR" XXXXXX.pdf)
curl -L "$1" > "$TMPFILE"
zathura "$TMPFILE"
